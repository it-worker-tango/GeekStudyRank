<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/zh/editor.html?c=bar-race-country
-->
<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="utf-8">
    </head>
    <body style="height: 100%; margin: 0">
        <div id="container" style="height: 100%"></div>

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
        <!-- Uncomment this line if you want to dataTool extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/dataTool.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use gl extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
        -->
        <!-- Uncomment this line if you want to echarts-stat extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
        -->
        <!-- Uncomment this line if you want to use map
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/china.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/map/js/world.js"></script>
        -->
        <!-- Uncomment these two lines if you want to use bmap extension
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/extension/bmap.min.js"></script>
        -->

        <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var app = {};

var option;



 var years =['2021/07/01', '2021/07/02', '2021/07/03'];
 var jdData = 
     [['ITèœ—å£³-Tango', 'ç½—è€€é¾™@åå¿˜', 'æ¢…è‹‘', 'æ¢¦é‡Œæ˜¯è°ğŸŒš', 'éš¾é€ƒæœˆè‰²', 'ğŸ•³ğŸ•³Êš ğŸ® ÉğŸ•³ğŸ•³', 'å¼ æ²›æ¥', 'gleamyzhong', 'Kian.Lee', 'æä¸œæ—­', 'ç¨‹åºçŒ¿å¤§å”æ–‡æµ·', 'Jesus', 'Neutrons', 'æ—±çƒŸå‘³', 'å°åå“¥', 'Jordan', 'æ°´ä¸­çœ‹æœˆ', 'cedar', 'æ²', 'Geek_39a13f', 'KingSwim', 'wugy', 'overheat', 'è‡ªå¾‹ç»™æˆ‘è‡ªç”±', 'èœå¤´', 'å†ä¸ç¡è§‰å°±ç§ƒäº†', 'Y024', 'è°¢é’±é›¨', 'somenzz', 'whoami', 'biny', 'â€¦â€¦', 'ç‹ä¸œå…‰', 'snowLeopard93', 'ç„å¢¨', 'molingwen', 'yangong', 'æ–¹æ¥šShelly', 'éª†ä¿Š', 'å­¤æ˜Ÿ', 'å®‰è²å°”å¾·', 'è¿æ–¤æˆé£', 'Link.W', 'äºŒ    æ‡‚', 'äº‘éŸµ', 'å¼ ç£Š', 'L', 'tao', 'lizhou', 'ç« å…‰è¾‰'], ['ITèœ—å£³-Tango', 'ç½—è€€é¾™@åå¿˜', 'æ¢…è‹‘', 'æ¢¦é‡Œæ˜¯è°ğŸŒš', 'éš¾é€ƒæœˆè‰²', 'ğŸ•³ğŸ•³Êš ğŸ® ÉğŸ•³ğŸ•³', 'å¼ æ²›æ¥', 'gleamyzhong', 'Kian.Lee', 'æä¸œæ—­', 'ç¨‹åºçŒ¿å¤§å”æ–‡æµ·', 'Jesus', 'Neutrons', 'æ—±çƒŸå‘³', 'å°åå“¥', 'Jordan', 'æ°´ä¸­çœ‹æœˆ', 'cedar', 'æ²', 'Geek_39a13f', 'KingSwim', 'wugy', 'overheat', 'è‡ªå¾‹ç»™æˆ‘è‡ªç”±', 'èœå¤´', 'å†ä¸ç¡è§‰å°±ç§ƒäº†', 'Y024', 'è°¢é’±é›¨', 'somenzz', 'whoami', 'biny', 'â€¦â€¦', 'ç‹ä¸œå…‰', 'snowLeopard93', 'ç„å¢¨', 'molingwen', 'yangong', 'æ–¹æ¥šShelly', 'éª†ä¿Š', 'å­¤æ˜Ÿ', 'å®‰è²å°”å¾·', 'è¿æ–¤æˆé£', 'Link.W', 'äºŒ    æ‡‚', 'äº‘éŸµ', 'å¼ ç£Š', 'L', 'tao', 'lizhou', 'ç« å…‰è¾‰'], ['ITèœ—å£³-Tango', 'ç½—è€€é¾™@åå¿˜', 'æ¢…è‹‘', 'æ¢¦é‡Œæ˜¯è°ğŸŒš', 'éš¾é€ƒæœˆè‰²', 'ğŸ•³ğŸ•³Êš ğŸ® ÉğŸ•³ğŸ•³', 'å¼ æ²›æ¥', 'gleamyzhong', 'Kian.Lee', 'æä¸œæ—­', 'ç¨‹åºçŒ¿å¤§å”æ–‡æµ·', 'Jesus', 'Neutrons', 'æ—±çƒŸå‘³', 'å°åå“¥', 'Jordan', 'æ°´ä¸­çœ‹æœˆ', 'cedar', 'æ²', 'Geek_39a13f', 'KingSwim', 'wugy', 'overheat', 'è‡ªå¾‹ç»™æˆ‘è‡ªç”±', 'èœå¤´', 'å†ä¸ç¡è§‰å°±ç§ƒäº†', 'Y024', 'è°¢é’±é›¨', 'somenzz', 'whoami', 'biny', 'â€¦â€¦', 'ç‹ä¸œå…‰', 'snowLeopard93', 'ç„å¢¨', 'molingwen', 'yangong', 'æ–¹æ¥šShelly', 'éª†ä¿Š', 'å­¤æ˜Ÿ', 'å®‰è²å°”å¾·', 'è¿æ–¤æˆé£', 'Link.W', 'äºŒ    æ‡‚', 'äº‘éŸµ', 'å¼ ç£Š', 'L', 'tao', 'lizhou', 'ç« å…‰è¾‰']]
 
 var data = 
     [[3, 2, 6, 12, 5, 6, 21, 8, 27, 20, 33, 24, 13, 14, 45, 48, 34, 18, 38, 20, 63, 66, 69, 24, 50, 78, 81, 56, 29, 60, 62, 96, 99, 34, 35, 72, 74, 38, 117, 80, 123, 126, 129, 44, 135, 138, 94, 48, 147, 100, 102], [1, 4, 3, 4, 5, 18, 14, 8, 18, 30, 33, 24, 39, 42, 45, 48, 17, 54, 38, 40, 63, 66, 46, 48, 50, 78, 54, 56, 87, 60, 31, 96, 33, 102, 105, 72, 111, 76, 78, 80, 41, 42, 86, 132, 45, 138, 47, 48, 49, 150, 51], [1210, 990, 790, 710, 490, 310, 290, 250, 250, 240, 210, 200, 180, 180, 170, 160, 155, 145, 140, 140, 140, 130, 130, 130, 130, 120, 120, 120, 120, 110, 110, 110, 110, 110, 110, 110, 110, 105, 100, 100, 100, 100, 100, 100, 100, 100, 90, 90, 90, 90]]
 ;

 option = {

     baseOption: {
         backgroundColor: '#2c343c', //èƒŒæ™¯é¢œè‰²
         timeline: {
             data: years,
             axisType: 'category',
             autoPlay: true,
             playInterval: 1500, //æ’­æ”¾é€Ÿåº¦

             left: '5%',
             right: '5%',
             bottom: '0%',
             width: '90%',
             //  height: null,
             label: {
                 normal: {
                     textStyle: {

                         color: 'red',
                     }
                 },
                 emphasis: {
                     textStyle: {
                         color: 'red'
                     }
                 }
             },
             symbolSize: 10,
             lineStyle: {
                 color: '#red'
             },
             checkpointStyle: {
                 borderColor: '#red',
                 borderWidth: 2
             },
             controlStyle: {
                 showNextBtn: true,
                 showPrevBtn: true,
                 normal: {
                     color: '#ff8800',
                     borderColor: '#ff8800'
                 },
                 emphasis: {
                     color: 'red',
                     borderColor: 'red'
                 }
             },

         },
         title: {
             text: '',
             right: '2%',
             bottom: '8%',
             textStyle: {
                 fontSize: 50,
                 color: 'black' //æ ‡é¢˜å­—ä½“é¢œè‰²
             }
         },
         tooltip: {
             'trigger': 'axis'
         },
         calculable: true,
         grid: {
             left: '8%',
             right: '2%',
             bottom: '6%',
             top: '0%',
             containLabel: true
         },
         label: {
             normal: {
                 textStyle: {
                     color: 'red'
                 }
             }
         },
         yAxis: [{

             nameGap: 50,
             offset: '37',
             'type': 'category',
             interval: 50,
             //inverse: ture,//å›¾è¡¨å€’å™æˆ–è€…æ­£åºæ’ç‰ˆ
             data: '',
             nameTextStyle: {
                 color: 'red'
             },


             axisLabel: {
                 //rotate:45,
                 show: false,
                 textStyle: {
                     fontSize: 32,

                     color: function(params, Index) { // æ ‡ç­¾å›½å®¶å­—ä½“é¢œè‰²

                         //color:function(d){return "#"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//éšæœºç”Ÿæˆé¢œè‰²

                         var colorarrays = ['#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                             '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                             '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                             '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                             '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                            '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                             '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                             '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'
                         ];

                         //console.log("111", Index, colorarrays[Index],params); //æ‰“å°åºåˆ—

                         return colorarrays[jdData[0].indexOf(params)];
                     },


                 }, //rotate:45,
                 interval: 50
             },
             axisLine: {

                 lineStyle: {
                     color: 'balck' //Yè½´é¢œè‰²
                 },
             },
             splitLine: {
                 show: false,
                 lineStyle: {
                     color: 'balck'
                 }
             },

         }],
         xAxis: [{
             'type': 'value',
             'name': '',

             splitNumber: 8, //è½´çº¿ä¸ªæ•°
             nameTextStyle: {
                 color: 'balck'
             },
             axisLine: {
                 lineStyle: {
                     color: '#ffa597' //Xè½´é¢œè‰²
                 }
             },
             axisLabel: {
                 formatter: '{value} '
             },
             splitLine: {
                 show: true,
                 lineStyle: {
                     color: '#fedd8b'
                 }
             },
         }],
         series: [{
                 'name': '',
                 'type': 'bar',
                 markLine: {
                     label: {
                         normal: {
                             show: false
                         }
                     },
                     lineStyle: {
                         normal: {
                             color: 'red',
                             width: 3
                         }
                     },
                 },
                 label: {
                     normal: {
                         show: true,
                         position: 'right', //æ•°å€¼æ˜¾ç¤ºåœ¨å³ä¾§
                         formatter: '{c}'
                     }
                 },
                 itemStyle: {
                     normal: {
                         color: function(params) {
                             // build a color map as your need.
                             //color:function(d){return "#"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//éšæœºç”Ÿæˆé¢œè‰²         
                             var colorList = ['#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'
                             ];
                             // return colorList[params.dataIndex]

                             console.log("111", params.name); //æ‰“å°åºåˆ—
                             return colorList[jdData[0].indexOf(params.name)];
                         },

                     }
                 },
             },

             {
                 'name': '',
                 'type': 'bar',
                 markLine: {
                     
                     
                     label: {
                         normal: {
                             show: false
                         }
                     },
                     lineStyle: {
                         
                         normal: {
                             color: 'red',
                             width: 3
                         }
                     },
                 },
                 barWidth: '50%',
                 barGap: '-100%',
                 label: {
                     normal: {
                         show: true,
                         fontSize: 16,  //æ ‡ç­¾å›½å®¶å­—ä½“å¤§å°
                         position: 'left', //æ•°å€¼æ˜¾ç¤ºåœ¨å³ä¾§
                         formatter: function(p) {
                             return p.name;
                         }
                     }
                 },
                 itemStyle: {
                     normal: {
                         
                         
                         color: function(params) {
                             // build a color map as your need.
                             //color:function(d){return "#"+Math.floor(Math.random()*(256*256*256-1)).toString(16);//éšæœºç”Ÿæˆé¢œè‰²         
                             var colorList = ['#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622',
                                 '#6bc0fb', '#7fec9d', '#fedd8b', '#ffa597', '#84e4dd', '#749f83',
                                 '#ca8622', '#bda29a', '#a8d8ea', '#aa96da', '#fcbad3', '#ffffd2',
                                 '#f38181', '#fce38a', '#eaffd0', '#95e1d3', '#e3fdfd', '#749f83', '#ca8622'
                             ];
                             // return colorList[params.dataIndex]

                             // console.log("111", params.name); //æ‰“å°åºåˆ—
                             return colorList[jdData[0].indexOf(params.name)];
                         },

                     }
                 },
             }
         ],

         animationEasingUpdate: 'quinticInOut',
         animationDurationUpdate: 1500, //åŠ¨ç”»æ•ˆæœ
     },

     options: []
 };
 for (var n = 0; n < years.length; n++) {

     var res = [];
     //alert(jdData.length);
     for (j = 0; j < data[n].length; j++) {
         res.push({
             name: jdData[n][j],
             value: data[n][j]
         });

     }

     res.sort(function(a, b) {
         return b.value - a.value;
     }).slice(0, 6);

     res.sort(function(a, b) {
         return a.value - b.value;
     });


     var res1 = [];
     var res2 = [];
     //console.log(res);
     for (t = 0; t < res.length; t++) {
         res1[t] = res[t].name;
         res2[t] = res[t].value;
     }
     option.options.push({
         title: {
             text: years[n] + 'å¹´'
         },
         yAxis: {
             data: res1,
         },
         series: [{
             data: res2
         }, {
             data: res2
         }]
     });
 }

if (option && typeof option === 'object') {
    myChart.setOption(option);
}

        </script>
    </body>
</html>
    